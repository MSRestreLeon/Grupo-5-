<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medico</title>
</head>

<body>
  <div class="franja">Hospital Mision TIC 2020 <input type="button" value="Cerrar sesion" onclick="reflogin()" class="cerrarSesion"></div>
  <div style="position: absolute;top: 90px;"><label>Perfil de usuario</label></div>
  <div class="textoEncabezadoPerfil">Recuerde mantener sus datos basicos actualizados</div>

  <form action="" method="post">
    <div class="textoConsultaHistoria">Consulta Historia Clinica Paciente</div>
    <div> <input type="text" name="docPaciente" id="docPaciente" placeholder="Documento de identidad paciente " class="docPaciente" > </div>
    <div><input type="button" value="Consultar" onclick="refhisPaciente()" class="buttonHistoria"></div>
  </form>

  <form action="" method="get"> 
    <div class="documento">                  Documento de identidad  <input name="docMedico" id="documentoIdentidad" type="text" name="cedula" class="perfil" > </div>
    <div class="nombre">                     Nombre                  <input name="nombre" id="nombreMedico" type="text" name="nombre" class="perfil"> </div>
    <div class="cargo">                      Cargo/Especialidad      <input name="cargo" id="cargo" type="text" name="cargo" class="perfil"> </div>
  </form>

  <form action="" method="post" class="enunciadoAgenda">
    <p>                                       A continuacion podra consultar su agenda de citas</p>
    <div class="consultaFecha"><label for=""> Ingrese fecha a consultar</label><input name="fechaAgenda" id="fecha" type="date" class="fechaAgenda"><input type="submit" value="Consultar agenda medica" onclick="validarFechaAgenda()"></div>
    <textarea name="textoAgenda" id="" cols="30" rows="10" class="textoHistoriaClinica"></textarea>
    <div class="consultarId">                 Ingrese Id de cita       <input name="idCita" id="idCita" type="text"><input type="submit" value="Ir a cita Medica" onclick="refConsPaciente()" class="buttonId"></div>
  </form>

  <div class="footer" style="top: 755px;">Esta plataforma cumple con la politica de privacidad y datos vigentes</div>

</body>
<script>
  function reflogin() {
    location.href="http://127.0.0.1:5000"
  }
  function idcita() {
    
    location.href="http://127.0.0.1:5000"
  }
  function validarDatos(){
    var expr = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    var documento = document.getElementById("documentoIdentidad").value;
    var nombre = document.getElementById("nombre").value;
    var cargo = document.getElementById("cargo").value;
    var edad = document.getElementById("edad").value;
    var correo = document.getElementById("correo").value;
    if(isNaN(documento)==false && (documento=="")==false){
      if(/^[A-ZÁÉÍÓÚÑ ]+$/i.test(nombre) && (nombre=="")==false){
        if(/^[A-ZÁÉÍÓÚÑ ]+$/i.test(cargo) && (cargo=="")==false){
          if(isNaN(edad)== false && (edad=="")==false){
            if(!expr.exec(correo)==false && (correo=="")==false){
              alert('Datos guardados');
              //actualizar base de datos
            }else{alert('[ERROR] Datos no guardados, favor revice los datos ingresados en correo');}
          }else{alert('[ERROR] Datos no guardados, favor revice los datos ingresados en edad');}
        }else{alert('[ERROR] Datos no guardados, favor revice los datos ingresados en cargo');}
      }else{alert('[ERROR] Datos no guardados, favor revice los datos ingresados en nombre');}
    }else{alert('[ERROR] Datos no guardados, favor revice los datos ingresados en documento');}
  }
  function refhisPaciente() {
    var docPaciente = document.getElementById("docPaciente").value;
    if (docPaciente==""){
      alert('[ERROR] Debe de ingresar el documento del paciente ');
      return false;
    }else{
      if(isNaN(docPaciente)){
      // Si no se cumple la condicion...
      alert('[ERROR] Debe de ingresar el documento de identidad del paciente correctamente ');
      return false;
      }else{location.href="http://127.0.0.1:5000/medico/historiaClinica"}
    }
    
  }
  function validarFechaAgenda() {
    var fecha = document.getElementById("fecha").value;
    if (fecha=="") {
      alert('[ERROR] Debe de ingresar la fecha del dia de agenda a consultar');
    }else{alert('Cargando agenda medica')}
    
  }
  function refConsPaciente() {
    var idCita = document.getElementById("idCita").value;
    if (isNaN(idCita)== false && (idCita=="")==false) {
      location.href="http://127.0.0.1:5000/medico/consultaMedica"
    }else{alert('[ERROR] Debe de ingresar el id de la cita existente');}
  }
</script>
</html>
<link rel="stylesheet" href="/static/css/estilos.css">
<link rel="stylesheet" href="/static/css/medico.css">